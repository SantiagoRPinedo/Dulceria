{% extends 'base.html' %}
{% block content%}
<div class="container text center">
        <div class="row align-items-start">
            <div class="col" id="colVen">
                <div class="ventas">
                    <H1>Dulces</H1>
                    <table class="table">
                        <thead>
                        <tr>
                            <th scope="col">ID</th>
                            <th scope="col">Dulce</th>
                            <th scope="col">Costo</th>
                            <th scope="col">Disponibles</th>
                        </tr>
                        </thead>
                        <tbody>
                        {%for c in consulta%}
                            <tr>
                                <th scope="row">{{c[0]}}</th>
                                <td>{{c[1]}}</td>
                                <td>{{c[2]}} $</td>
                                <td>{{c[3]}}</td>
                            </tr>
                        {%endfor%}
                        </tbody>
                    </table>
                    <div class="row align-items-start">
                        <div class="row row-cols-2 ">
                            <div class="col">
                                <button class="normi" id="agregar" name="agreDulce">Agregar Dulce</button>
                            </div>
                            <div class="col">
                                <button class="normi" name="agreDulce">Eliminar Dulce</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col" id="colCons">
                <div class="top3">
                    <div class="tarjeta">
                        <h1>Top 3 Dulces</h1>
                        <table class="table table-borderless">
                            <thead>
                            <tr>
                                <th scope="col">Dulce</th>
                                <th scope="col">Número de ventas</th>
                                <th scope="col">Dinero generado</th>
                            </tr>
                            </thead>
                            <tbody>
                            {%for p in consProdE%}
                                <tr>
                                    <th scope="row">{{p[0]}}</th>
                                    <td>{{p[1]}}</td>
                                    <td>{{p[2]}}</td>
                                </tr>
                            {%endfor%}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
</div>
    <!-- Modal -->
    <div id="myModal" class="modal">
        <!-- Contenido del modal -->
            <div class="container text center" id="modal_content">
                <span class="close">&times;</span>
                <h1>Nuevo dulce</h1>
                <br>
                <form class="row g-3 needs-validation" method="post" novalidate>
                    <div class="col-md-4">
                        <label for="validationCustom01" class="form-label">Nombre del dulce</label>
                        <input type="text" class="form-control" id="validationCustom01" placeholder="Chocolates" name="dulce" required>
                        <div class="valid-feedback">
                            Parece un buen dulce!
                        </div>
                    </div>
                    <div class="col-md-4">
                          <label for="validationCustom02" class="form-label">Costo del dulce</label>
                          <input type="text" class="form-control" id="validationCustom02" placeholder="1000" name="costo" required>
                          <div class="valid-feedback">
                            Sabor justo, precio justo uwu!
                          </div>
                    </div>
                    <div class="col-md-4">
                        <label for="validationCustom02" class="form-label">Cantidad Inventario</label>
                        <input type="text" class="form-control" id="validationCustom02" placeholder="121941984" name="cantidad" required>
                        <div class="valid-feedback">
                          Algún día serán millones!!!!
                        </div>
                    </div>
                    <div>
                        <input type="submit" value="Registrar producto" id = "agre">
                    </div>
                </form>
            </div>
    </div>
    <script>
        // Obtener el modal
        var modal = document.getElementById("myModal");

        // Obtener el botón que abre el modal
        var btn = document.getElementById("agregar");

        // Obtener el botón que cierra el modal
        var span = document.getElementsByClassName("close")[0];

        // Cuando el usuario hace clic en el botón, se muestra el modal
        btn.onclick = function() {
        modal.style.display = "block";
        }

        // Cuando el usuario hace clic en el botón "cerrar", se oculta el modal
        span.onclick = function() {
        modal.style.display = "none";
        }

        // Cuando el usuario hace clic fuera del modal, se oculta el modal
        window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
        }
    </script>
    
{%endblock%}